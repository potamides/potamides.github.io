---
layout: post
title: Building a USB converter for a Vintage Siemens PC16-11 Keyboard
date: 2024-12-17
description:
thumbnail:
---
I found this Siemens PC16-11 keyboard at a flea market. I had been searching
for a Siemens keyboard for quite some time because I like their funky keycaps
and overall aesthetics. Finally, I stumbled upon one. Here's how it looked when
I first brought it home:[^1]

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        {% include figure.liquid loading="eager" alt="dirty Siemens PC16-11 keyboard" path="assets/img/siemens/1-dirty-keyboard.jpg" class="img-fluid rounded z-depth-1" zoomable=true %}
    </div>
</div>

It was a bit dirty but otherwise in good condition, with no missing keycaps!
The first thing I did when I got home was disassemble the keyboard to take a
look inside:

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        {% include figure.liquid loading="eager" alt="keyboard with top housing removed" path="assets/img/siemens/2-no-top-housing.jpg" class="img-fluid rounded z-depth-1" zoomable=true %}
    </div>
</div>

Everything looked good! Fortunately, there were no obvious signs of damage. The
most interesting part of the circuitry is definitely the upper-left corner.
Notable components include the Intel 8031 micro controller (1), a 2732 EPROM
(2), and, most intriguingly, a beeper speaker (3):

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        {% include figure.liquid loading="eager" alt="central circuitry of the keyboard" path="assets/img/siemens/3-central-circuitry.jpg" class="img-fluid rounded z-depth-1" zoomable=true %}
    </div>
</div>

Another highlight for me were the switches, the original Siemens STB 11
switches. Someone did a [review](https://youtu.be/czVtFctLSlA) on their
(seemingly disappointing) successors, but I couldn't find much information on
these earlier models:

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        {% include figure.liquid loading="eager" alt="closeup on the keyboard switches" path="assets/img/siemens/4-switches.jpg" class="img-fluid rounded z-depth-1" zoomable=true %}
    </div>
</div>

I really wanted to use this keyboard with a modern computer, but it uses a
proprietary connector and protocol, so reverse-engineering seemed inevitable. I
had previously done an [internal
conversion](../../2020/itt) on a keyboard of
similar vintage, but this time, I wanted to try an external conversion, leaving
the original keyboard functionality intact. This approach meant that I would
have to reverse-engineer the entire protocol, which would probably be a more
extensive project in comparison. However, before making any assumptions I
thought I'd start by looking for the original PC16-11 manual. Perhaps someone
had scanned it, and it might contain useful information for the project.


To my surprise, I found that someone had indeed scanned the entire manual and
[uploaded](https://oldcomputers-ddns.org/public/pub/rechner/siemens/pc16-11/manuals/index.html)
it for archival purposes. A huge thank you to that kind soul! The 250-page
manual (written in German) detailed the workings of the entire system,
including how it communicates with the keyboard:

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        {% include figure.liquid loading="eager" alt="wiring information of the keyboard" path="assets/img/siemens/5-wiring-information.jpg" class="img-fluid rounded z-depth-1" zoomable=true %}
    </div>
</div>

The manual revealed that the keyboard communicates with the computer via a
unidirectional serial protocol on Pin 11. It also outlined how the protocol
worked: the keyboard simply sends a keycode to the computer with each keypress,
and that's it:

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        {% include figure.liquid loading="eager" alt="keycode table" path="assets/img/siemens/6-keycode-table.jpg" class="img-fluid rounded z-depth-1" zoomable=true %}
    </div>
</div>

Armed with this valuable information, building the hardware for the converter
became much easier. Within hours of receiving the parts, I had a working
prototype:

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        {% include figure.liquid loading="eager" alt="keycode converter prototype" path="assets/img/siemens/7-converter.jpg" class="img-fluid rounded z-depth-1" zoomable=true %}
    </div>
</div>

The only thing I changed from the schematic was adding a 2.2 kOhm resistor
between pin 4 and ground, since we don't need the -RxD signal. Finalizing the
software took a bit longer, as I had to account for various edge cases when
mapping the keycodes to actual keys. Fortunately, the excellent [TMK Keyboard
Firmware Core Library](https://github.com/tmk/tmk_core) made this process much
smoother. After working on it for about five evenings, I had a working
converter. The source code is available
[here](https://github.com/potamides/siemens-pc16-11-converter) for anyone
interested. The repository also includes a dump of the EPROM for archival
purposes. After a thorough cleaning, here's a typing demo with and without the
buzzer:

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0" >
        {% include video.liquid alt="typing demo" path="https://www.youtube.com/embed/rSG0JlDf5y4" class="img-fluid rounded z-depth-1 video-4-3" %}
    </div>
</div>

I was really surprised by the switches. They're tactile, which explains why the
buzzer was necessary to reintroduce the noise level people were used to at the
time. The tactile bump is gentle but noticeable, and the force required to
bottom out increases sharply, perhaps reminding me a bit of Cherry MX Clears.
I'll definitely pull this keyboard out from time to time to type on it.

A downside of how the protocol works is that it only sends keypress events, not
key release events. While this is fine for typing, it's not at all suited for
things like gaming (if you hold a key down for a while, it sends repeated
keypress events). That said, it does have 2-key rollover, so it won't satisfy
your gaming needs in any case. Here's a final photo of the cleaned-up keyboard,
complete with the converter:

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        {% include figure.liquid loading="eager" alt="clean Siemens PC16-11 keyboard with converter" path="assets/img/siemens/8-clean-keyboard.jpg" class="img-fluid rounded z-depth-1" zoomable=true %}
    </div>
</div>

Overall, this was a fun and rewarding project. It also highlighted how valuable
archiving things can be. I'm not sure how long the project would have taken
without the manual. I wish modern computers still came with similarly detailed
documentation. Even apart from the technical details, the manual was a fun
read. I really enjoyed learning the German equivalents of terms I usually hear
only in English; and just look at how happy this guy from the manual looks with
his new PC16-11 keyboard! Sure looks like me.

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        {% include figure.liquid loading="eager" alt="cartoon from the manual" path="assets/img/siemens/9-happy-user.jpg" class="img-fluid rounded z-depth-1" zoomable=true %}
    </div>
</div>

[^1]: Originally posted on [Deskthority](https://deskthority.net/viewtopic.php?t=29402).
